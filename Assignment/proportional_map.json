{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width": 800,
  "height": 600,
  "title": "Bushfires around Australia",
  "projection": {
        "type": "equirectangular",
        "center": [134, -27],
        "scale": 1000
      },

    "params": [
      {
        "name": "Time_slider",
        "value": 1,
        "bind": {
          "input": "range",
          "min": 1,
          "max": 30,
          "step": 1,
          "name": "Day: "
        }
      },
      {
      "name": "month_selection",
      "bind": {
        "input": "select",
        "options": [
          null,
          "9",
          "10",
          "11",
          "12",
          "1"
        ],
        "labels": [
          "Show All",
          "September",
          "October",
          "November",
          "December",
          "January"
        ],
        "name": "Select Month: "
      }
    }],
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/ssar0011/FIT3179/main/Proportional%20Map/js/aus_states.topojson",
        "format": {"type": "topojson", "feature": "austates"}
      },
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/ssar0011/FIT3179/main/heat_map/fire.csv"
        },
      "transform": [{"filter":"datum.day == Time_slider"},
      {
        "filter":"month_selection == null || datum.month == month_selection"}
        ],
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"}
      },
      "layer": [
        {
          "mark": {
            "type": "circle",
            "tooltip": {"content": "data"}
          },
          "encoding": {
            "size": {"field": "frp", 
                    "title": "FRP (Fire Radiation Power)",
                     "type": "quantitative",
                     "scale":{
                       "domain":[500,1500,2000,2500,3000],
                       "range": [50,150,250,350,450]
                     }
                     },
            "color": {"field": "brightness", 
                      "title": "Brightness",
                      "type": "quantitative",
                      "scale":{
                        "domain":[300,500],
                        "scheme":"oranges"
                      }          
            }
          }
        },
        {
          "data": {
            "url": "https://raw.githubusercontent.com/ssar0011/FIT3179/main/Assignment/au_city_locations.csv"
          },
          "transform": [
            {
              "filter": {
                "field": "city",
                "oneOf": [
                  "Bairnsdale East",
                  "Albury",
                  "Port Macquarie",
                  "Kalgoorlie",
                  "Canberra",
                  "Esperance",
                  "Kangaroo Island"                ]
              }
            }
          ],
          "encoding": {
            "longitude": {"field": "lng", "type": "quantitative"},
            "latitude": {"field": "lat", "type": "quantitative"}
          },
          "layer": [
            {"mark": {"type": "circle", "color": "black"}, "encoding": {}},
            {
              "mark": {"type": "text", "align": "left", "dx": 8},
              "encoding": {"text": {"field": "city"}}
            }
          ]
        }

      ]
    }
  ]
}
